<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>STACK — Syntax Card</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: "Courier New", Courier, monospace;
    font-size: 11px;
    line-height: 1.5;
    color: #111;
    background: #fff;
    padding: 18px 22px;
  }

  h1 {
    font-size: 15px;
    font-weight: bold;
    letter-spacing: 2px;
    border-bottom: 2px solid #111;
    padding-bottom: 4px;
    margin-bottom: 10px;
    text-transform: uppercase;
  }

  h2 {
    font-size: 10px;
    font-weight: bold;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: #555;
    margin: 10px 0 3px 0;
    border-bottom: 1px solid #ccc;
  }

  h3 {
    font-size: 10px;
    font-weight: bold;
    color: #333;
    margin: 7px 0 2px 0;
  }

  pre {
    background: #f4f4f4;
    padding: 5px 8px;
    border-left: 3px solid #333;
    white-space: pre;
    font-size: 10.5px;
    line-height: 1.6;
  }

  .comment { color: #555; }

  @media print {
    body { padding: 10px 14px; }
    @page { margin: 0.4in; size: letter; }
  }
</style>
</head>
<body>

<h1>STACK — Python Syntax Card</h1>

<h2>Declare</h2>
<pre>stack = []                      <span class="comment"># Python list as stack</span></pre>

<h2>Core Operations</h2>
<pre>stack.append(x)                 <span class="comment"># push</span>
stack.pop()                     <span class="comment"># pop + return; IndexError if empty</span>
stack[-1]                       <span class="comment"># peek top; IndexError if empty</span>
if not stack:                   <span class="comment"># check empty (Pythonic)</span>
len(stack)                      <span class="comment"># size</span></pre>

<h2>Safe Operations</h2>
<pre>val = stack.pop() if stack else None   <span class="comment"># safe pop</span>
top = stack[-1]  if stack else None   <span class="comment"># safe peek</span></pre>

<h2>Iterate (non-destructive)</h2>
<pre>for item in stack:              <span class="comment"># bottom → top</span>
for item in reversed(stack):   <span class="comment"># top → bottom</span></pre>

<h2>Pattern — Valid Parentheses</h2>
<pre>stack = []
pairs = {")": "(", "]": "[", "}": "{"}
for c in s:
    if c in "([{":
        stack.append(c)
    elif not stack or stack[-1] != pairs[c]:
        return False
    else:
        stack.pop()
return not stack</pre>

<h2>Pattern — Monotonic Stack (Next Greater)</h2>
<pre>stack = []                      <span class="comment"># stores indices</span>
res = [-1] * len(nums)
for i, n in enumerate(nums):
    while stack and nums[stack[-1]] < n:
        res[stack.pop()] = n   <span class="comment"># found next greater</span>
    stack.append(i)</pre>

<h2>Pattern — Min Stack</h2>
<pre>stack = []                      <span class="comment"># stores (val, current_min)</span>
stack.append((val, min(val, stack[-1][1] if stack else val)))
cur_min = stack[-1][1]         <span class="comment"># O(1) min lookup</span></pre>

</body>
</html>
