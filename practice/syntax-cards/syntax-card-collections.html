<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PYTHON COLLECTIONS — Syntax Card</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: "Courier New", Courier, monospace; font-size: 11px; line-height: 1.5; color: #111; background: #fff; padding: 18px 22px; }
  h1 { font-size: 15px; font-weight: bold; letter-spacing: 2px; border-bottom: 2px solid #111; padding-bottom: 4px; margin-bottom: 10px; text-transform: uppercase; }
  h2 { font-size: 10px; font-weight: bold; letter-spacing: 1px; text-transform: uppercase; color: #555; margin: 10px 0 3px 0; border-bottom: 1px solid #ccc; }
  pre { background: #f4f4f4; padding: 5px 8px; border-left: 3px solid #333; white-space: pre; font-size: 10.5px; line-height: 1.6; }
  .comment { color: #555; } .warn { color: #c00; } .good { color: #060; }
  .cols { display: grid; grid-template-columns: 1fr 1fr; gap: 0 16px; }
  @media print { body { padding: 10px 14px; } @page { margin: 0.4in; size: letter; } }
</style>
</head>
<body>
<h1>PYTHON COLLECTIONS — defaultdict · Counter · deque</h1>
<div class="cols">
<div>

<h2>defaultdict</h2>
<pre>from collections import defaultdict

d = defaultdict(list)   <span class="comment"># missing key -> []</span>
d = defaultdict(int)    <span class="comment"># missing key -> 0</span>
d = defaultdict(set)    <span class="comment"># missing key -> set()</span>

d["key"].append(1)      <span class="comment"># auto-creates list</span>
d["n"] += 1             <span class="comment"># auto-creates int</span>

<span class="warn"># WRONG: d.get("k",[]).append(x)  throwaway list!</span>
<span class="good"># RIGHT: d["k"].append(x)         stored in dict</span></pre>

<h2>Counter</h2>
<pre>from collections import Counter

c = Counter("aabbbc")       <span class="comment"># {'b':3,'a':2,'c':1}</span>
c = Counter([1,1,2,3])      <span class="comment"># {1:2,2:1,3:1}</span>

c["missing"]                <span class="comment"># 0 — no KeyError</span>
c.most_common(2)            <span class="comment"># [('b',3),('a',2)]</span>
c.most_common()[-1]         <span class="comment"># least common</span>

c1 + c2   <span class="comment"># combine</span>
c1 - c2   <span class="comment"># subtract (drops negatives)</span>
c1 &amp; c2   <span class="comment"># min counts</span>
c1 | c2   <span class="comment"># max counts</span></pre>

</div>
<div>

<h2>deque</h2>
<pre>from collections import deque

dq = deque([1, 2, 3])
dq.append(4)       <span class="comment"># add right   O(1)</span>
dq.appendleft(0)   <span class="comment"># add left    O(1)</span>
dq.pop()           <span class="comment"># remove right O(1)</span>
dq.popleft()       <span class="comment"># remove left  O(1)</span>
<span class="warn"># list.pop(0) is O(n) — always use deque.popleft()</span>

<span class="comment"># BFS queue</span>
queue = deque([root])
while queue:
    node = queue.popleft()
    if node.left:  queue.append(node.left)
    if node.right: queue.append(node.right)

<span class="comment"># Level-order — snapshot size</span>
for _ in range(len(queue)):
    node = queue.popleft()  <span class="comment"># one level</span></pre>

<h2>OrderedDict — LRU pattern</h2>
<pre>from collections import OrderedDict
od = OrderedDict()
od.move_to_end("k")              <span class="comment"># most recent</span>
od.move_to_end("k", last=False)  <span class="comment"># least recent</span>
od.popitem(last=False)           <span class="comment"># evict LRU</span></pre>

<h2>Quick Picks</h2>
<pre><span class="good"># Auto-default value?   -> defaultdict</span>
<span class="good"># Frequency count?      -> Counter</span>
<span class="good"># O(1) both-end queue?  -> deque</span>
<span class="good"># Insert-order+evict?   -> OrderedDict</span></pre>

</div>
</div>
</body>
</html>
